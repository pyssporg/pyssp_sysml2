{
  "package": "Aircraft",
  "part_definitions": {
    "AircraftComposition": {
      "attributes": {},
      "connections": [
        {
          "dst_component": "missionComputer",
          "dst_part_def": "__ref__",
          "dst_port": "autopilotInput",
          "dst_port_def": "__ref__",
          "src_component": "autopilot",
          "src_part_def": "__ref__",
          "src_port": "autopilotCmd",
          "src_port_def": "__ref__"
        },
        {
          "dst_component": "environment",
          "dst_part_def": "__ref__",
          "dst_port": "direction_command",
          "dst_port_def": "__ref__",
          "src_component": "missionComputer",
          "src_part_def": "__ref__",
          "src_port": "direction_command",
          "src_port_def": "__ref__"
        },
        {
          "dst_component": "autopilot",
          "dst_part_def": "__ref__",
          "dst_port": "currentOrientation",
          "dst_port_def": "__ref__",
          "src_component": "environment",
          "src_part_def": "__ref__",
          "src_port": "orientation",
          "src_port_def": "__ref__"
        },
        {
          "dst_component": "autopilot",
          "dst_part_def": "__ref__",
          "dst_port": "currentLocation",
          "dst_port_def": "__ref__",
          "src_component": "environment",
          "src_part_def": "__ref__",
          "src_port": "location",
          "src_port_def": "__ref__"
        },
        {
          "dst_component": "autopilot",
          "dst_part_def": "__ref__",
          "dst_port": "feedbackBus",
          "dst_port_def": "__ref__",
          "src_component": "environment",
          "src_part_def": "__ref__",
          "src_port": "flight_status",
          "src_port_def": "__ref__"
        }
      ],
      "doc": "Top-level aircraft composition with functional subsystem instances.",
      "name": "AircraftComposition",
      "parts": {
        "autopilot": {
          "doc": null,
          "name": "autopilot",
          "part_def": "__ref__",
          "part_name": "AutopilotModule"
        },
        "environment": {
          "doc": null,
          "name": "environment",
          "part_def": "__ref__",
          "part_name": "Environment"
        },
        "missionComputer": {
          "doc": null,
          "name": "missionComputer",
          "part_def": "__ref__",
          "part_name": "MissionComputer"
        }
      },
      "ports": {}
    },
    "AutopilotModule": {
      "attributes": {
        "comment": {
          "doc": null,
          "name": "comment",
          "type": {
            "string_definition": null,
            "type": "String"
          },
          "value": "uses waypoint tracking"
        },
        "waypointCount": {
          "doc": null,
          "name": "waypointCount",
          "type": {
            "string_definition": null,
            "type": "Integer"
          },
          "value": 10
        },
        "waypointX_km": {
          "doc": null,
          "name": "waypointX_km",
          "type": {
            "string_definition": null,
            "type": [
              "Real"
            ]
          },
          "value": [
            0.0,
            10.0,
            20.0
          ]
        }
      },
      "connections": [],
      "doc": "F-16 autopilot, takes in sensor data and translates it into a equivalent hotas command.",
      "name": "AutopilotModule",
      "parts": {},
      "ports": {
        "autopilotCmd": {
          "direction": "out",
          "doc": "HOTAS-equivalent command stream for mission computer blending.",
          "name": "autopilotCmd",
          "port_def": "__ref__",
          "port_name": "PilotCommand"
        },
        "currentLocation": {
          "direction": "in",
          "doc": "Current local position from sensors",
          "name": "currentLocation",
          "port_def": "__ref__",
          "port_name": "PositionXYZ"
        },
        "currentOrientation": {
          "direction": "in",
          "doc": "Current attitude from sensors.",
          "name": "currentOrientation",
          "port_def": "__ref__",
          "port_name": "OrientationEuler"
        },
        "feedbackBus": {
          "direction": "in",
          "doc": "Mission-computer flight status back into autopilot.",
          "name": "feedbackBus",
          "port_def": "__ref__",
          "port_name": "FlightStatusPacket"
        },
        "missionStatus": {
          "direction": "out",
          "doc": "Waypoint progression for logging and verification.",
          "name": "missionStatus",
          "port_def": "__ref__",
          "port_name": "MissionStatus"
        }
      }
    },
    "Environment": {
      "attributes": {},
      "connections": [],
      "doc": "Tracking position and velocities of the aircraft and feeds the sensors",
      "name": "Environment",
      "parts": {},
      "ports": {
        "direction_command": {
          "direction": "in",
          "doc": null,
          "name": "direction_command",
          "port_def": "__ref__",
          "port_name": "OrientationEuler"
        },
        "flight_status": {
          "direction": "out",
          "doc": null,
          "name": "flight_status",
          "port_def": "__ref__",
          "port_name": "FlightStatusPacket"
        },
        "location": {
          "direction": "out",
          "doc": null,
          "name": "location",
          "port_def": "__ref__",
          "port_name": "PositionXYZ"
        },
        "orientation": {
          "direction": "out",
          "doc": "Feedback for simulated sensors",
          "name": "orientation",
          "port_def": "__ref__",
          "port_name": "OrientationEuler"
        }
      }
    },
    "MissionComputer": {
      "attributes": {},
      "connections": [],
      "doc": "F-16C/D mission computer blending pilot HOTAS inputs with fly-by-wire control laws and stores management.",
      "name": "MissionComputer",
      "parts": {},
      "ports": {
        "autopilotInput": {
          "direction": "in",
          "doc": "Autopilot command bundle using same HOTAS signal structure.",
          "name": "autopilotInput",
          "port_def": "__ref__",
          "port_name": "PilotCommand"
        },
        "direction_command": {
          "direction": "out",
          "doc": "Command how to alter the current velocity vector, pith, yaw, roll",
          "name": "direction_command",
          "port_def": "__ref__",
          "port_name": "OrientationEuler"
        }
      }
    }
  },
  "port_definitions": {
    "FlightStatusPacket": {
      "attributes": {
        "airspeed_mps": {
          "doc": null,
          "name": "airspeed_mps",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        },
        "angle_of_attack_deg": {
          "doc": null,
          "name": "angle_of_attack_deg",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        },
        "health_code": {
          "doc": null,
          "name": "health_code",
          "type": {
            "string_definition": null,
            "type": "Integer"
          },
          "value": null
        }
      },
      "doc": "Mission computer status feedback consumed by autonomy and analysis models.",
      "name": "FlightStatusPacket"
    },
    "MissionStatus": {
      "attributes": {
        "complete": {
          "doc": null,
          "name": "complete",
          "type": {
            "string_definition": null,
            "type": "Boolean"
          },
          "value": null
        },
        "total_waypoints": {
          "doc": null,
          "name": "total_waypoints",
          "type": {
            "string_definition": null,
            "type": "Integer"
          },
          "value": null
        },
        "waypoint_index": {
          "doc": null,
          "name": "waypoint_index",
          "type": {
            "string_definition": null,
            "type": "Integer"
          },
          "value": null
        }
      },
      "doc": "Waypoint-tracking status produced by the autopilot for logging and requirement evaluation.",
      "name": "MissionStatus"
    },
    "OrientationEuler": {
      "attributes": {
        "pitch_deg": {
          "doc": null,
          "name": "pitch_deg",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        },
        "roll_deg": {
          "doc": null,
          "name": "roll_deg",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        },
        "yaw_deg": {
          "doc": null,
          "name": "yaw_deg",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        }
      },
      "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
      "name": "OrientationEuler"
    },
    "PilotCommand": {
      "attributes": {
        "mode_switch": {
          "doc": null,
          "name": "mode_switch",
          "type": {
            "string_definition": null,
            "type": "Integer"
          },
          "value": null
        },
        "stick_pitch_norm": {
          "doc": null,
          "name": "stick_pitch_norm",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        },
        "stick_roll_norm": {
          "doc": null,
          "name": "stick_roll_norm",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        }
      },
      "doc": "HOTAS-style control payload shared across control surfaces and mission computer consumers.",
      "name": "PilotCommand"
    },
    "PositionXYZ": {
      "attributes": {
        "x_km": {
          "doc": null,
          "name": "x_km",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        },
        "y_km": {
          "doc": null,
          "name": "y_km",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        },
        "z_km": {
          "doc": null,
          "name": "z_km",
          "type": {
            "string_definition": null,
            "type": "Real"
          },
          "value": null
        }
      },
      "doc": "Local navigation frame expressed in kilometers (x=North, y=East, z=Up).",
      "name": "PositionXYZ"
    }
  },
  "requirements": [
    {
      "identifier": "Requirement_REQ_Control",
      "text": "Provide full HOTAS pilot controls, digital fly-by-wire channels, and autopilot hold modes."
    },
    {
      "identifier": "Requirement_REQ_Waypoints_1",
      "text": "It should support loading a number of waypoints that it should fly to in order."
    }
  ]
}